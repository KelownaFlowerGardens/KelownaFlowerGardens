<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
    <link rel="icon" type="image/x-icon" href="KFGL.jpg">
<title>Welcome!</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
body{
  font-family:system-ui;
  background:#FDD7D7;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}
.card{
  background:white;
  padding:2rem;
  border-radius:16px;
  text-align:center;
}
    .tick-option {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-top: 12px;
  font-weight: 500;
}

.tick-option input {
  width: 18px;
  height: 18px;
}

.popup-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.55);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 3000;
}

.popup-box {
  background: #fff;
  padding: 25px;
  width: 90%;
  max-width: 420px;
  border-radius: 16px;
}

</style>
</head>

<body>
<!-- POPUP OVERLAY -->
<div id="popupOverlay" class="popup-overlay">

  <div class="popup-box">
    <h2>I agree and have read the
   <a href=".pdf"><p>Terms and Conditions</p></a></h2>
    <label class="tick-option">
      <input type="checkbox" value="Check">
    </label>


    <div class="popup-actions">
      <button class="btn-secondary" onclick="closePopup()">Cancel</button>
      <button class="btn-primary" onclick="submitSelection()">Confirm</button>
    </div>
  </div>

</div>

<div class="card">
  <h2>Welcome to the Garden ðŸŒ¸</h2>
  <p>Your membership is active.</p>
  <a href="MembersDashboard.html">Go to Dashboard</a>
</div>

</body>
    <script>
async function submitSelection() {
  const checked = [...document.querySelectorAll(
    '.popup-box input[type="checkbox"]:checked'
  )].map(cb => cb.value);

  if (checked.length === 0) {
    alert("Please select at least one option.");
    return;
  }

  const res = await fetch("http://localhost:3000/api/member-selection", {
    method: "POST",
    credentials: "include",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ selections: checked })
  });

  if (res.ok) {
    closePopup();
    alert("Selection saved.");
  } else {
    alert("Error saving selection.");
  }
}
</script>

</html>
